<!DOCTYPE html>
<!-- Idioma da pagina -->
<html lang ="pt-br">


  <head>
                             
    <!-- Mapa de caracteres -->
    <meta charset="UTF-8"/>

    <!-- Zoom da pagina -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">


    <title>Dados do Estado</title>

        <!-- local do arquivo .css flask -->
    <link rel="stylesheet" href="{{  url_for('static', filename='style.css')}}">
    <link rel="stylesheet" type="text/css" href="{{  url_for('static', filename='datepicker.css')}}"/>
    <link rel="stylesheet" type="text/css" href="{{  url_for('static', filename='graficos.css')}}"/>

  </head>


    <body>


      <!-- Menu Horizontal e Direcionamento de paginas -->
      <div class="menuH">
      <nav>

        <div class="logo"><img src="{{  url_for('static', filename='logo.jpg')}}" ></div>
        <div class="logo2"><img id="elem" width="55" height="auto" src="{{ url_for('static', filename='logo2.jpg')}}">
        <img id="marca" width="175" height="auto" src="{{ url_for('static', filename='logo2-open.jpg')}}"></div>

        <button class="button button1">&#9776;</button>

        <ul>
            <li> <a href="/index" >Início</a> </li>
            <li> <a href="/estado/covidsp">Estado</a> </li>
            <li> <a href="/municipios/covidsp"  >Municípios</a> </li>
            <li> <a id='git-link' href="https://github.com/SoSoJigsaw/Carcara" ><img id="git" width="48" height="auto" src="{{ url_for('static', filename='git-hub.png')}}"/></a>  </li>
        </ul>
      </nav>
      </div>

      <!-- Bloco -->
      <div class="bloco">

          <p class="titulo" id="titulo-estado">Dados do Estado</p>

           <!-- Paragrafo Invisivel -->
            <p class="hide"> a</p>

          <div class="pesquisa" id="pesquisa-estado">
                          {% block content %}

                   {% if "/estado" == request.path|string %}
                   <form action="/estado/covidsp/search#p1-start" method="post">
                        <p class="p1" id="p1-start">
                            {{form.startdate_field.label}} <br>
                            {% if request.form['startdate_field'] != '' %}
                            {{form.startdate_field(id="calendar", autocomplete="off", min=min, max=max, value=start, type="text")}}
                            {% else %}
                            {{form.startdate_field(id="calendar", autocomplete="off", min=min, max=max, type="text")}}
                            {% endif %}

                        </p>
                        <p class="p1" id="p1-end">
                            {{form.enddate_field.label}} <br>
                            {% if request.form['enddate_field'] != '' %}
                             {{form.enddate_field(id="calendar1", autocomplete="off", min=min, max=max, value=end, type="text")}}
                            {% else %}
                            {{form.enddate_field(id="calendar1", autocomplete="off", min=min, max=max, type="text")}}
                             {% endif %}
                        </p>
                        <p class="p">
                            {{form.submit_field(value="", style="background-color: transparent")}}
                        </p>
                    </form>
                          {% endif %}

                   {% if "/estado/covidsp" in request.path|string %}
                   <form action="/estado/covidsp/search#p1-start" method="post">
                        <p class="p1" id="p1-start">
                            {{form.startdate_field.label}} <br>
                            {% if request.form['startdate_field'] != '' %}
                            {{form.startdate_field(id="calendar", autocomplete="off", min=min, max=max, value=start, type="text")}}
                            {% else %}
                            {{form.startdate_field(id="calendar", autocomplete="off", min=min, max=max, type="text")}}
                            {% endif %}
                        </p>
                        <p class="p1" id="p1-end">
                            {{form.enddate_field.label}} <br>
                            {% if request.form['enddate_field'] != '' %}
                             {{form.enddate_field(id="calendar1", autocomplete="off", min=min, max=max, value=end, type="text")}}
                            {% else %}
                            {{form.enddate_field(id="calendar1", autocomplete="off", min=min, max=max, type="text")}}
                             {% endif %}
                        </p>
                        <p class="p">
                            {{form.submit_field(value="", tabindex="0", style="background-color: transparent")}}
                        </p>
                    </form>
                          {% endif %}

                         {% if "/estado/vacina" in request.path|string %}
                    <form action="/estado/vacina/search#p1-start" method="post">
                         <p class="p1" id="p1-start">
                            {{form.startdate_field.label}} <br>
                            {% if request.form['startdate_field'] != '' %}
                            {{form.startdate_field(id="calendar", autocomplete="off", min=min, max=max, value=start, type="text")}}
                            {% else %}
                            {{form.startdate_field(id="calendar", autocomplete="off", min=min, max=max, type="text")}}
                            {% endif %}

                        </p>
                        <p class="p1" id="p1-end">
                            {{form.enddate_field.label}} <br>
                            {% if request.form['enddate_field'] != '' %}
                             {{form.enddate_field(id="calendar1", autocomplete="off", min=min, max=max, value=end, type="text")}}
                            {% else %}
                            {{form.enddate_field(id="calendar1", autocomplete="off", min=min, max=max, type="text")}}
                             {% endif %}
                        </p>
                        <p class="p">
                            {{form.submit_field(value="", style="background-color: transparent")}}
                        </p>
                    </form>
                            {% endif %}

                  {% if "/estado/leitos" in request.path|string %}
                    <form action="/estado/leitos/search#p1-start" method="post">
                           <p class="p1" id="p1-start">
                            {{form.startdate_field.label}} <br>
                            {% if request.form['startdate_field'] != '' %}
                            {{form.startdate_field(id="calendar", autocomplete="off", min=min, max=max, value=start, type="text")}}
                            {% else %}
                            {{form.startdate_field(id="calendar", autocomplete="off", min=min, max=max, type="text")}}
                            {% endif %}

                        </p>
                        <p class="p1" id="p1-end">
                            {{form.enddate_field.label}} <br>
                            {% if request.form['enddate_field'] != '' %}
                             {{form.enddate_field(id="calendar1", autocomplete="off", min=min, max=max, value=end, type="text")}}
                            {% else %}
                            {{form.enddate_field(id="calendar1", autocomplete="off", min=min, max=max, type="text")}}
                             {% endif %}
                        </p>
                        <p class="p">
                            {{form.submit_field(value="", style="background-color: transparent")}}
                        </p>
                    </form>
                               {% endif %}

                    {% if "/estado/isolamento-social" in request.path|string %}
                    <form action="/estado/isolamento-social/search#p1-start" method="post">
                            <p class="p1" id="p1-start">
                            {{form.startdate_field.label}} <br>
                            {% if request.form['startdate_field'] != '' %}
                            {{form.startdate_field(id="calendar", autocomplete="off", min=min, max=max, value=start, type="text")}}
                            {% else %}
                            {{form.startdate_field(id="calendar", autocomplete="off", min=min, max=max, type="text")}}
                            {% endif %}

                        </p>
                        <p class="p1" id="p1-end">
                            {{form.enddate_field.label}} <br>
                            {% if request.form['enddate_field'] != '' %}
                             {{form.enddate_field(id="calendar1", autocomplete="off", min=min, max=max, value=end, type="text")}}
                            {% else %}
                            {{form.enddate_field(id="calendar1", autocomplete="off", min=min, max=max, type="text")}}
                             {% endif %}
                        </p>
                        <p class="p">
                            {{form.submit_field(value="", style="background-color: transparent")}}
                        </p>
                    </form>
                                 {% endif %}
                                {% endblock %}
          </div>
      </div>

      <!-- Paragrafo Invisivel -->
            <p class="hide"> a</p>

          <!-- tabs -->
          <div class="tab">

            {% if "estado/covidsp" not in request.path|string %}
            <button class="tablinks" onclick="openCity(event, 'London')" id="defaultOpen">
            {% else %}
            <button class="tablinks active" onclick="openCity(event, 'London')" id="defaultOpen">
            {% endif %}
                {% if "/search" not in request.path|string %}
                <a class="button" href="{{ url_for('covidsp_main') }}#p1-start" style="text-decoration:none; color:#000000;">Casos e Óbitos</a>
                {% endif %}
                {% if "/search" in request.path|string %}
                <a class="button" href="{{ url_for('covidsp_search') }}#p1-start" style="text-decoration:none; color:#000000;">Casos e Óbitos</a>
                {% endif %}
            </button>


                <a class="tab-separator">|</a>


            {% if "estado/vacina" not in request.path|string %}
            <button class="tablinks" onclick="openCity(event, 'Tokyo')">
            {% else %}
            <button class="tablinks active" onclick="openCity(event, 'Tokyo')">
            {% endif %}
                {% if "/search" not in request.path|string %}
                <a class="button" href="{{ url_for('evoludose_main') }}#p1-start" style="text-decoration:none; color:#000000;">Vacinação</a>
                {% endif %}
                {% if "/search" in request.path|string %}
                <a class="button" href="{{ url_for('evoludose_search') }}#p1-start" style="text-decoration:none; color:#000000;">Vacinação</a>
                {% endif %}
            </button>


                <a class="tab-separator">|</a>


            {% if "estado/isolamento-social" not in request.path|string %}
            <button class="tablinks" onclick="openCity(event, 'Berlin')">
            {% else %}
            <button class="tablinks active" onclick="openCity(event, 'Berlin')">
            {% endif %}
                {% if "/search" not in request.path|string %}
                <a class="button" href="{{ url_for('isola_main') }}#p1-start" style="text-decoration:none; color:#000000;">Isolamento Social</a>
                {% endif %}
                {% if "/search" in request.path|string %}
                <a class="button" href="{{ url_for('isola_search') }}#p1-start" style="text-decoration:none; color:#000000;">Isolamento Social</a>
                {% endif %}
            </button>


                <a class="tab-separator">|</a>


            {% if "estado/leitos" not in request.path|string %}
            <button class="tablinks" onclick="openCity(event, 'Lima')">
            {% else %}
            <button class="tablinks active" onclick="openCity(event, 'Lima')">
            {% endif %}
                {% if "/search" not in request.path|string %}
                <a class="button" href="{{ url_for('leitos_main') }}#p1-start" style="text-decoration:none; color:#000000;">Leitos</a>
                {% endif %}
                {% if "/search" in request.path|string %}
                <a class="button" href="{{ url_for('leitos_search') }}#p1-start" style="text-decoration:none; color:#000000;">Leitos</a>
                {% endif %}
            </button>
          </div>

            <!-- Paragrafo Invisivel -->
       <p class="hide"> a</p>

          <div class="flash">

            {% with messages = get_flashed_messages() %}
                     {% if messages %}
               {% for message in messages %}
                     {{ message }}
                      {% endfor %}
                      {% endif %}
                     {% endwith %}
          </div>

      <div class="paineis">
          {% if covidsp_totalcasos %}
          <div class="painel">TOTAL CASOS NO PERÍODO: <br> <br> <span>{{ covidsp_totalcasos }}</span></div>
          <div class="painel">TOTAL ÓBITOS NO PERÍODO: <br> <br> <span>{{ covidsp_totalobitos }}</span></div>
          <div class="painel">CASOS ÚLTIMO DIA DO PERÍODO: <br> <br> <span>{{ covidsp_ultcasos }}</span></div>
          <div class="painel">ÓBITOS ÚLTIMO DIA DO PERÍODO: <br> <br> <span>{{ covidsp_ultobitos }}</span></div>
          {% endif %}
      </div>

      <!-- Paragrafo Invisivel -->
       <p class="hide"> a</p>

       <div class="graficos-estado">
           <div class="covidsp">
               {% if graf1_covidsp %}
               <div class="casos-diarios-sp">{{ graf1_covidsp|safe }}
                   <button class="hide-dado" onclick="dadosComp1()">DADOS</button>
                   <p id="df1" style="display: none">Variação nos últimos sete dias no período:</p>
               </div>
               {% endif %}

               {% if graf2_covidsp %}
               <div class="obitos-diarios-sp">{{ graf2_covidsp|safe }}
                   <button class="hide-dado" onclick="dadosComp2()">DADOS</button>
                   <p id="df2" style="display: none">Variação nos últimos sete dias no período:</p>
               </div>
               {% endif %}

               {% if graf3_covidsp %}
               <div class="total-casos-sp">{{ graf3_covidsp|safe }}
                   <button class="hide-dado" onclick="dadosComp3()">DADOS</button>
                   <p id="df3" style="display: none">Variação nos últimos sete dias no período:</p>
               </div>
               {% endif %}

               {% if graf4_covidsp %}
               <div class="total-obitos-sp">{{ graf4_covidsp|safe }}
                   <button class="hide-dado" onclick="dadosComp4()">DADOS</button>
                   <p id="df4" style="display: none">Variação nos últimos sete dias no período:</p>
               </div>
               {% endif %}
           </div>

           <div class="vacinasp">
                {% if graf1_evoludose %}
                <div class="primeira-dose-sp">{{ graf1_evoludose|safe }}
                    <button class="hide-dado" onclick="dadosComp5()">DADOS</button>
                   <p id="df5" style="display: none">Variação nos últimos sete dias no período:</p>
                </div>
                {% endif %}

                {% if graf2_evoludose %}
                <div class="segunda-dose-sp">{{ graf2_evoludose|safe }}
                    <button class="hide-dado" onclick="dadosComp6()">DADOS</button>
                   <p id="df6" style="display: none">Variação nos últimos sete dias no período:</p>
                </div>
                {% endif %}

                {% if graf3_evoludose %}
                <div class="terceira-dose-sp">{{ graf3_evoludose|safe }}
                    <button class="hide-dado" onclick="dadosComp7()">DADOS</button>
                   <p id="df7" style="display: none">Variação nos últimos sete dias no período:</p>
                </div>
                {% endif %}

                {% if graf4_evoludose %}
                <div class="dose-unica-sp">{{ graf4_evoludose|safe }}
                    <button class="hide-dado" onclick="dadosComp8()">DADOS</button>
                   <p id="df8" style="display: none">Variação nos últimos sete dias no período:</p>
                </div>
                {% endif %}

                {% if graf5_evoludose %}
                <div class="doses-sp">{{ graf5_evoludose|safe }}
                    <button class="hide-dado" onclick="dadosComp9()">DADOS</button>
                   <p id="df9" style="display: none">Variação nos últimos sete dias no período:</p>
                </div>
                {% endif %}
           </div>

           <div class="leitos">
               {% if graf1_leitos %}
               <div class="ocupacao-leitos">{{ graf1_leitos|safe }}
                   <button class="hide-dado" onclick="dadosComp10()">DADOS</button>
                   <p id="df10" style="display: none">Variação nos últimos sete dias no período:</p>
               </div>
               {% endif %}

               {% if graf2_leitos %}
               <div class="total-leitos">{{ graf2_leitos|safe }}
                   <button class="hide-dado" onclick="dadosComp11()">DADOS</button>
                   <p id="df11" style="display: none">Variação nos últimos sete dias no período:</p>
               </div>
               {% endif %}

               {% if graf3_leitos %}
               <div class="total-pacientes">{{ graf3_leitos|safe }}
                   <button class="hide-dado" onclick="dadosComp12()">DADOS</button>
                   <p id="df12" style="display: none">Variação nos últimos sete dias no período:</p>
               </div>
               {% endif %}

               {% if graf4_leitos %}
               <div class="novas-internacoes">{{ graf4_leitos|safe }}
                   <button class="hide-dado" onclick="dadosComp13()">DADOS</button>
                   <p id="df13" style="display: none">Variação nos últimos sete dias no período:</p>
               </div>
               {% endif %}
           </div>


              {% if graf1_isola %}
              <div class="isola-sp">{{ graf1_isola|safe }}
                  <button class="hide-dado" onclick="dadosComp14()">DADOS</button>
                   <p id="df14" style="display: none">Variação nos últimos sete dias no período:</p>
              </div>
              {% endif %}
       </div>

      <!-- Paragrafo Invisivel -->
            <p class="hide"> a</p>
      <!-- Paragrafo Invisivel -->
            <p class="hide"> a</p>


       <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" />
       <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
       <script src="http://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
       <link href="http://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css" rel="stylesheet" type="text/css" />
       <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.1/i18n/jquery-ui-i18n.min.js"></script>
       <script type="text/javascript">
            $.datepicker.setDefaults({
              dateformat: "dd/mm/yyyy",
              showOn: "button",
              buttonImageOnly: true,
              buttonImage: "https://github.com/SoSoJigsaw/Carcara/blob/main/Aplica%C3%A7%C3%A3o%20Web/app/static/calendar-top.png?raw=true",
              buttonText: "",
              minDate: new Date(2020, 2 - 1, 26),
              maxDate: "0",
              showAnim: "slideDown",
              showOptions: { direction: "up" }
            });

            $.datepicker.setDefaults( $.datepicker.regional[ "pt-BR" ] );

            $("#calendar").datepicker();
            $("#calendar1").datepicker();

       </script>
       <script type="text/javascript">
           $('#p1-start input').click(function() {

             $('#p1-start input').css('background-color', 'rgba(249, 212, 156, 0.4)');
             applied = true;

           })

           $('#p1-end input').click(function() {

             $('#p1-end input').css('background-color', 'rgba(249, 212, 156, 0.4)');
             applied = true;

           })
       </script>
       <script type="text/javascript">
          $('body').on('scroll', function(){
             $("#ui-datepicker-div").hide();
          });
       </script>
       <script type="text/javascript">
           function dadosComp1() {
             var x = document.getElementById("df1");
             if (x.style.display === "none") {
               x.style.display = "block";
             } else {
               x.style.display = "none";
             }
           }

           function dadosComp2() {
             var x = document.getElementById("df2");
             if (x.style.display === "none") {
               x.style.display = "block";
             } else {
               x.style.display = "none";
             }
           }

           function dadosComp3() {
             var x = document.getElementById("df3");
             if (x.style.display === "none") {
               x.style.display = "block";
             } else {
               x.style.display = "none";
             }
           }

           function dadosComp4() {
             var x = document.getElementById("df4");
             if (x.style.display === "none") {
               x.style.display = "block";
             } else {
               x.style.display = "none";
             }
           }

           function dadosComp5() {
             var x = document.getElementById("df5");
             if (x.style.display === "none") {
               x.style.display = "block";
             } else {
               x.style.display = "none";
             }
           }

           function dadosComp6() {
             var x = document.getElementById("df6");
             if (x.style.display === "none") {
               x.style.display = "block";
             } else {
               x.style.display = "none";
             }
           }

           function dadosComp7() {
             var x = document.getElementById("df7");
             if (x.style.display === "none") {
               x.style.display = "block";
             } else {
               x.style.display = "none";
             }
           }

           function dadosComp8() {
             var x = document.getElementById("df8");
             if (x.style.display === "none") {
               x.style.display = "block";
             } else {
               x.style.display = "none";
             }
           }

           function dadosComp9() {
             var x = document.getElementById("df9");
             if (x.style.display === "none") {
               x.style.display = "block";
             } else {
               x.style.display = "none";
             }
           }

           function dadosComp10() {
             var x = document.getElementById("df10");
             if (x.style.display === "none") {
               x.style.display = "block";
             } else {
               x.style.display = "none";
             }
           }

           function dadosComp11() {
             var x = document.getElementById("df11");
             if (x.style.display === "none") {
               x.style.display = "block";
             } else {
               x.style.display = "none";
             }
           }

           function dadosComp12() {
             var x = document.getElementById("df12");
             if (x.style.display === "none") {
               x.style.display = "block";
             } else {
               x.style.display = "none";
             }
           }

           function dadosComp13() {
             var x = document.getElementById("df13");
             if (x.style.display === "none") {
               x.style.display = "block";
             } else {
               x.style.display = "none";
             }
           }

           function dadosComp14() {
             var x = document.getElementById("df14");
             if (x.style.display === "none") {
               x.style.display = "block";
             } else {
               x.style.display = "none";
             }
           }
       </script>
    </body>
</html>